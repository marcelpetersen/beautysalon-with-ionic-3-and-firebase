<!--
  Generated template for the ClientEditPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>

  <!-- Com o "capitalize:true" Queremos que apenas o "PRIMEIRO  caractere do "TITLE" seja transformado em "MAIÚSCULO" -->
  <custom-logged-header [title]="view | capitalize:true"></custom-logged-header>

  <ion-toolbar>
    <!-- Alternar entre view-client-add e view-client-list -->
    <ion-segment [(ngModel)]="view">
      <ion-segment-button value="Atualizar Cliente">
        Atualizar
      </ion-segment-button>
      <!--
      <ion-segment-button value="Client List">
        Client List
      </ion-segment-button>
      -->
    </ion-segment>
  </ion-toolbar>

</ion-header>

<ion-content padding>

  <!-- <button ion-button block clear (click)="canEdit = !canEdit">Exibir/Ocultar formulário</button> -->

  <form [formGroup]="clientForm" (ngSubmit)="onSubmit(); $event.preventDefault()">

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="text" placeholder="Nome" formControlName="name" [(ngModel)]="currentClient.name" text-uppercase minlenght="3" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="number" placeholder="RG" formControlName="rg" [(ngModel)]="currentClient.rg" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="number" placeholder="CPF" formControlName="cpf" [(ngModel)]="currentClient.cpf" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="number" placeholder="CEP" formControlName="cep" [(ngModel)]="currentClient.cep" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="text" placeholder="UF" formControlName="uf" [(ngModel)]="currentClient.uf" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="text" placeholder="Estado" formControlName="estado" [(ngModel)]="currentClient.estado" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="text" placeholder="Cidade" formControlName="cidade" [(ngModel)]="currentClient.cidade" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="text" placeholder="Bairro" formControlName="bairro" [(ngModel)]="currentClient.bairro" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="text" placeholder="Logradouro" formControlName="logradouro" [(ngModel)]="currentClient.logradouro" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="number" placeholder="Número" formControlName="numero" [(ngModel)]="currentClient.numero" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="text" placeholder="Complemento" formControlName="complemento" [(ngModel)]="currentClient.complemento" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="tel" placeholder="Tel Residência" formControlName="residencia" [(ngModel)]="currentClient.residencia" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="tel" placeholder="Tel Celular" formControlName="celular" [(ngModel)]="currentClient.celular" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="tel" placeholder="Tel Comercial" formControlName="comercial" [(ngModel)]="currentClient.comercial" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="number" placeholder="Quantidade" formControlName="quantidade" [(ngModel)]="currentClient.quantidade" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="email" placeholder="Email" formControlName="email" [(ngModel)]="currentClient.email" text-lowercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="text" item-left color="primary"></ion-icon>
      <ion-input type="text" placeholder="Dados Complementares" formControlName="observacao" [(ngModel)]="currentClient.observacao" text-uppercase></ion-input>
    </ion-item>

    <ion-item>
      <ion-icon name="list-box" item-left color="primary"></ion-icon>
      <ion-select formControlName="state" placeholder="Status" [(ngModel)]="currentClient.state" text-uppercase required>
        <ion-option value="ativo">ATIVO</ion-option>
        <ion-option value="bloqueado">BLOQUEADO</ion-option>
      </ion-select>  
    </ion-item>

    <!--
    <ion-item>
      <ion-icon name="list-box" item-left color="primary"></ion-icon>     
      <ion-select formControlName="state" placeholder="State" [(ngModel)]="currentClient.state" text-uppercase minlenght="1" required>
        <ion-option *ngFor="let state of statesgeneral | async" [value]="state.name">{{ state.name }}</ion-option>
      </ion-select>  
    </ion-item>    
    -->
    
    <progress-bar *ngIf="uploadProgress" [progress]="uploadProgress"></progress-bar>

    <br>
    <button ion-button round block color="primary" type="submit" [disabled]="clientForm.invalid">Salvar</button>

  </form>

</ion-content>

<!--
<custom-logged-footer></custom-logged-footer>
-->